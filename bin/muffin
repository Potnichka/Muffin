#!/usr/bin/env node

var program = require('commander');

var Muffin = require('../lib/muffin')({
	called : process.cwd(),
	lib    : __dirname + '/../lib',
	markx  : __dirname + '/../node_modules/markx/bin/markx'
});

program
	.version('0.0.1');

program
	.command('init')
	.description('setup blog/site for first time')
	.action(function() {
		muffin.init();
	});

program
	.command('bake')
	.description('build the site out')
	.action(function() {
		muffin.bake({
			input    : '/articles/demo.md',
			output   : '/public/blog/demo.html',
			template : '/templates/master.jade'
		});
	});

program
	.command('burn')
	.description('destroy the setup')
	.action(function() {
		muffin.burn();
	});

program
	.command('post')
	.description('create a new post')
	.action(function() {
		muffin.post();
	});

program.parse(process.argv);