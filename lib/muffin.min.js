var exec=require("child_process").exec,fs=require("fs"),path=require("path"),muffin={dir:{},file:{}};muffin.dir.read=function(a){if(!a.path)throw new Error;fs.readdir(a.path,function(b,c){a.ext&&(c=c.filter(function(b){var c=a.ext.length;return parseInt(c),c*=-1,b.substr(c)==a.ext})),c.forEach(function(a){console.log(a)})})},muffin.bake=function(a){var b=this,c=muffin.path.markx+" ";a.template&&(c=c+"--template "+muffin.path.called+a.template+" ");if(!a.input)throw new Error;c=c+muffin.path.called+a.input+" > ";if(!a.output)throw new Error;c=c+muffin.path.called+a.output,exec(c,function(a,b,c){console.log("stdout: "+b),console.log("stderr: "+c),a!==null&&console.log("exec error: "+a)})},module.exports=function(a){return muffin.path=a,muffin}